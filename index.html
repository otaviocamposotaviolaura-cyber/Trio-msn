<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Ping Pong Mobile Real</title>
<style>
    body {
        margin: 0;
        background: #000;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        overflow: hidden;
        touch-action: none;
    }

    canvas {
        border: 5px solid #ffffff;
        border-radius: 10px;
        background: #0f6d0f; /* VERDE MESA */
        box-shadow: 0 0 20px #000;
    }
</style>
</head>
<body>

<canvas id="gameCanvas"></canvas>

<script>
// DIMENSÃƒO PERFEITA PARA CELULAR
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

const largura = window.innerWidth * 0.95;
const altura = window.innerHeight * 0.80;

canvas.width = largura;
canvas.height = altura;

// RAQUETES
const paddleWidth = largura * 0.03;
const paddleHeight = altura * 0.20;

let playerY = altura / 2 - paddleHeight / 2;
let botY = playerY;

// BOLA
let ballX = largura / 2;
let ballY = altura / 2;
let ballSize = largura * 0.02;
let ballSpeedX = 4;
let ballSpeedY = 4;

// Placar
let playerScore = 0;
let botScore = 0;

// Controle por toque
canvas.addEventListener("touchmove", (e) => {
    const touch = e.touches[0];
    const rect = canvas.getBoundingClientRect();
    playerY = touch.clientY - rect.top - paddleHeight / 2;

    if(playerY < 0) playerY = 0;
    if(playerY > altura - paddleHeight)
        playerY = altura - paddleHeight;
});

function drawTableLines() {
    ctx.strokeStyle = "#ffffff";
    ctx.lineWidth = 3;
    ctx.setLineDash([15, 10]); // tracejada
    ctx.beginPath();
    ctx.moveTo(largura / 2, 0);
    ctx.lineTo(largura / 2, altura);
    ctx.stroke();
    ctx.setLineDash([]);
}

function drawPaddle(x, y, color) {
    ctx.fillStyle = color;
    ctx.fillRect(x, y, paddleWidth, paddleHeight);
}

function drawBall() {
    ctx.fillStyle = "#ffffff";
    ctx.beginPath();
    ctx.arc(ballX, ballY, ballSize, 0, Math.PI * 2);
    ctx.fill();
}

function moveBall() {
    ballX += ballSpeedX;
    ballY += ballSpeedY;

    if(ballY < 0 || ballY > altura) ballSpeedY *= -1;

    // Player
    if(ballX < paddleWidth &&
        ballY > playerY && ballY < playerY + paddleHeight) {
        ballSpeedX *= -1.1;
    }

    // Bot
    if(ballX > largura - paddleWidth &&
        ballY > botY && ballY < botY + paddleHeight) {
        ballSpeedX *= -1.1;
    }

    if(ballX < 0) { botScore++; resetBall(); }
    if(ballX > largura) { playerScore++; resetBall(); }
}

function resetBall() {
    ballX = largura / 2;
    ballY = altura / 2;
    ballSpeedX = 4 * (Math.random() > 0.5 ? 1 : -1);
    ballSpeedY = 4 * (Math.random() > 0.5 ? 1 : -1);
}

function moveBot() {
    if(ballY < botY + paddleHeight / 2) botY -= 4;
    else botY += 4;

    botY = Math.max(0, Math.min(botY, altura - paddleHeight));
}

function drawScore() {
    ctx.font = (largura * 0.08) + "px Arial";
    ctx.fillStyle = "#fff";
    ctx.fillText(playerScore, largura / 2 - 60, 60);
    ctx.fillText(botScore, largura / 2 + 20, 60);
}

function gameLoop() {
    ctx.clearRect(0, 0, largura, altura);

    drawTableLines();
    move
